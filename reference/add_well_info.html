<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge plate information with well information — add_well_info • BoeckLabRtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge plate information with well information — add_well_info"><meta name="description" content="This function is designed to add well-specific information from plate experiments (e.g., 96-well, 384-well, or 1536-well plates) to your data.
It merges a dataset containing plate data with well information based on the specified plate format. The function provides a flexible way to
integrate metadata about plate wells (such as drug types, concentrations, or experimental conditions) with plate measurement data."><meta property="og:description" content="This function is designed to add well-specific information from plate experiments (e.g., 96-well, 384-well, or 1536-well plates) to your data.
It merges a dataset containing plate data with well information based on the specified plate format. The function provides a flexible way to
integrate metadata about plate wells (such as drug types, concentrations, or experimental conditions) with plate measurement data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BoeckLabRtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4.0000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/base_analysis.html">Introduction to BoeckLabRtools</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merge plate information with well information</h1>

      <div class="d-none name"><code>add_well_info.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is designed to add well-specific information from plate experiments (e.g., 96-well, 384-well, or 1536-well plates) to your data.
It merges a dataset containing plate data with well information based on the specified plate format. The function provides a flexible way to
integrate metadata about plate wells (such as drug types, concentrations, or experimental conditions) with plate measurement data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_well_info</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">well_info</span>,</span>
<span>  info_name <span class="op">=</span> <span class="st">"well_info"</span>,</span>
<span>  plate_format <span class="op">=</span> <span class="st">"plate_view"</span>,</span>
<span>  wells_to_ignore <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EMPTY"</span>, <span class="st">"BW"</span><span class="op">)</span>,</span>
<span>  force_lower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  inplace <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-d">d<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>A data.table of path to csv containing the well information. It must have columns named "row", "col", and "well" (all lowercase).</p></dd>


<dt id="arg-well-info">well_info<a class="anchor" aria-label="anchor" href="#arg-well-info"></a></dt>
<dd><p>A data.frame, data.table or path to csv containing the well information. The format depends on the <code>plate_format</code> argument.</p></dd>


<dt id="arg-info-name">info_name<a class="anchor" aria-label="anchor" href="#arg-info-name"></a></dt>
<dd><p>A character string specifying the name of the column containing the well information. Default is "well_info".</p></dd>


<dt id="arg-plate-format">plate_format<a class="anchor" aria-label="anchor" href="#arg-plate-format"></a></dt>
<dd><p>A character string specifying the format of the well information. Can be either "plate_view" (default) or "transposed".</p></dd>


<dt id="arg-wells-to-ignore">wells_to_ignore<a class="anchor" aria-label="anchor" href="#arg-wells-to-ignore"></a></dt>
<dd><p>A character vector specifying the wells to ignore. Default is c("EMPTY", "BW").</p></dd>


<dt id="arg-force-lower">force_lower<a class="anchor" aria-label="anchor" href="#arg-force-lower"></a></dt>
<dd><p>A logical value indicating whether to force column names to lowercase. Default is TRUE.</p></dd>


<dt id="arg-inplace">inplace<a class="anchor" aria-label="anchor" href="#arg-inplace"></a></dt>
<dd><p>A logical value indicating whether to modify the input data.table in place. Default is TRUE. This means the data.table given
as input will be directly modified without using the assignment operator '&lt;-'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table with the merged drug data and well information.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function requires a consistent mapping between the row/col/well coordinates in both the metadata file and the target data. The coordinates
must use the same labeling scheme in both datasets for proper merging. For example, if your plate uses rows A-H and columns 1-12 (for a 96-well plate),
both datasets should follow this labeling pattern.</p>
<p>When using the default 'plate_view' format, the input well_info data should visually resemble the physical plate layout:</p><ul><li><p>The first column must be labeled "row" and contain row identifiers (e.g., A, B, C, etc.)</p></li>
<li><p>The subsequent columns must be numeric and represent column numbers (e.g., 1, 2, 3, etc.)</p></li>
<li><p>The cell values contain the information to be merged (e.g., drug names, concentrations)</p></li>
</ul><p>For example, a 96-well plate metadata might look like:
row | 1      | 2      | 3      | ... | 12
—-+——–+——–+——–+—–+——–
A   | Drug1  | Drug2  | Ctrl   | ... | Drug6
B   | Drug1  | Drug2  | Ctrl   | ... | Drug6
...
H   | Drug7  | Drug8  | Blank  | ... | Blank</p>
<p>Alternatively, the 'transposed' format can be used when the metadata is structured in a tabular form with columns for row, col, and the information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://phisanti.github.io/BoeckLabRtools/">BoeckLabRtools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">row | col | well | value</span></span></span>
<span class="r-in"><span><span class="st">A   | 1   | A1   | 10</span></span></span>
<span class="r-in"><span><span class="st">A   | 2   | A2   | 20</span></span></span>
<span class="r-in"><span><span class="st">B   | 1   | B1   | 30</span></span></span>
<span class="r-in"><span><span class="st">B   | 2   | B2   | 40"</span>, </span></span>
<span class="r-in"><span>header <span class="op">=</span> <span class="cn">TRUE</span>, sep <span class="op">=</span> <span class="st">"|"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, strip.white <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">well_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">row | 1     | 2</span></span></span>
<span class="r-in"><span><span class="st">A   | Drug1 | Drug2</span></span></span>
<span class="r-in"><span><span class="st">B   | Drug3 | Drug4"</span>, </span></span>
<span class="r-in"><span>header <span class="op">=</span> <span class="cn">TRUE</span>, sep <span class="op">=</span> <span class="st">"|"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, strip.white <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">well_info</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="va">well_info</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Merge drug data with well information</span></span></span>
<span class="r-in"><span><span class="va">merged_data</span> <span class="op">&lt;-</span> <span class="fu">add_well_info</span><span class="op">(</span><span class="va">d</span>, <span class="va">well_info</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>NAs introduced by coercion</span>
<span class="r-in"><span><span class="co"># Merge drug data with transposed well information</span></span></span>
<span class="r-in"><span><span class="va">well_info_transposed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">col | row | info</span></span></span>
<span class="r-in"><span><span class="st">1   | A | Drug1</span></span></span>
<span class="r-in"><span><span class="st">2   | B | Drug2</span></span></span>
<span class="r-in"><span><span class="st">1   | A | Drug3</span></span></span>
<span class="r-in"><span><span class="st">2   | B | Drug4"</span>, </span></span>
<span class="r-in"><span>header <span class="op">=</span> <span class="cn">TRUE</span>, sep <span class="op">=</span> <span class="st">"|"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, strip.white <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">well_info_transposed</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="va">well_info_transposed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">well_info_transposed</span><span class="op">[</span>, <span class="va">well</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">row</span>, <span class="va">col</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      col    row   info   well</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;int&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     1      A  Drug1     A1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     2      B  Drug2     B2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     1      A  Drug3     A1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     2      B  Drug4     B2</span>
<span class="r-in"><span><span class="va">merged_data_transposed</span> <span class="op">&lt;-</span> <span class="fu">add_well_info</span><span class="op">(</span><span class="va">d</span>, <span class="va">well_info_transposed</span>, plate_format <span class="op">=</span> <span class="st">"transposed"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

